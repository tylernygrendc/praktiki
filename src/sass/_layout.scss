@use "_ui";


// device breakpoints

$MacBookProWidth: 1280px;
$iPadProWidth: 1024px;
$iPadWidth: 820px;
$iPadMiniWidth: 768px;
$iPhoneProMaxWidth: 430px;
$iPhoneWidth: 390px;
$iPhoneSEWidth: 375px;

// praktiki is designed for tablets and larger
// functionality on small devices will be limited

#praktiki {
  z-index: 0;
  position: fixed;
  inset: 0;
  overflow: none;
  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-template-columns: 300px 1fr 300px;
}

#globalBanner {
  position: relative;
  grid-row: 1/2;
  grid-column: 1/4;
  display: flex;
  flex-direction: row;
  align-items: center;
}

#toolDrawer {
  position: relative;
  grid-row: 2/3;
  grid-column: 1/2;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  padding: 0.5em;
  gap: 0.25em;
}

#appMain {
  position: relative;
  grid-row: 2/3;
  grid-column: 2/3;
}

#appDrawer {
  position: relative;
  grid-row: 2/3;
  grid-column: 3/4;

  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: 2rlh 1fr;
  padding: 0.5em;

  background-color: var(--materialColor100);
  color: var(--fontColor10);

  ul[role="tablist"] {
    grid-row: 1 / 2;
    grid-column: 1 / 2;
    display: flex;
    flex-direction: row;
    align-items: stretch;
    gap: 0.25rem;

    li[role="tab"] {
      tabindex: 0;
      flex: 1;
      border-radius: 0px;
      border-bottom: solid 1px transparent;
      @include ui.icon();
      cursor: pointer;

      &:hover,
      &:focus-visible {
        color: var(--accentColor);
      }

      &.selected {
        color: var(--accentColor);
        border-bottom: var(--accentColor);
      }

      * {
        tabindex: -1;
      }
    }
  }

  [role="tabpanel"] {
    grid-row: 2 / 3;
    grid-column: 1 / 2;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 0.25em;
    background-color: var(--materialColor100);
    color: var(--fontColor10);
  }
}

#globalActions {
  position: relative;
  grid-row: 3/4;
  grid-column: 1/4;
  display: flex;
  flex-direction: row;
  align-items: center;
}

// hide tool drawer on small devices and windows

@media (min-width: $iPadWidth) and (max-width: $iPadProWidth)
/* tablets and small windows */

  {
  #praktiki {
    grid-template-columns: 1fr 300px;
  }

  #globalBanner {
    grid-column: 1/3;
  }

  #toolDrawer {
    z-index: 15;
    position: fixed;
    inset: 0 auto 0 0;
    display: flex;
  }

  #appMain {
    position: relative;
    grid-row: 2/3;
    grid-column: 2/3;
  }

  #appDrawer {
    grid-column: 2/3;
  }

  #globalActions {
    grid-row: 2/3;
  }
}

// functionality is restricted on small devices
// remove global banner, global actions, tool drawer
// hide app main, show app drawer only

@media (min-width: $iPhoneSEWidth) and (max-width: $iPadWidth)
/* small tablets and phones */

  {

  #praktiki {
    display: block;
  }

  #globalBanner,
  #appMain,
  #globalActions{
    display: none;
  }

  #appMain {
    position: absolute;
    inset: 0;
    visibility: hidden;
  }

  #appDrawer {
    z-index: 0;
    position: absolute;
    inset: 0;
    grid-template-rows: 1fr 2lh;

    ul[role="tablist"] {
      grid-row: 2 / 3;
    }

    [role="tabpanel"] {
      grid-row: 1 / 2;
    }
  }
}

// some devices are too small to use praktiki
// prompt user to change orientation or switch to a larger device

@media (max-width: $iPhoneSEWidth),
(max-height: $iPhoneProMaxWidth)
/* very small screens and phones in landscape */

  {
  #praktiki {
    display: none;
  }
}