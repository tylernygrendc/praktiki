
@use "sass:map";
@use "sass:color";
@use "utility";
@use "global";

$feed: (
    width: 400px,
    backgroundColor: map.get(utility.$palette, "default-dark"),
    color: map.get(utility.$palette, "on-default")
);

[role=feed]{
    position: absolute;
    inset: 0 auto 0 0;
    width: map.get($feed, "width");
}

@mixin agenda($columns: 5){

    $interval: 1rem;
    $headHeight: 100px;

    font-size: 0.8rem;
    background-color: map.get(utility.$palette, "default-medium");
    color: map.get(utility.$palette, "on-default");

    .head{
        position: absolute;
        inset: 0 0 auto 0; 
        height: $headHeight;
        display: grid;
        grid-template-columns: repeat($columns, 1fr);
        grid-template-rows: auto;
        align-items: center;
        justify-items: flex-start;
        padding: 0.5em;
        gap: 0.5em;
    }

    .body{

        position: absolute;
        inset: $headHeight 0 0 0;
        display: grid;
        grid-template-columns: repeat($columns, 1fr);
        overflow-y: scroll;

        > div{
            // 1440 minutes in one day
            // one interval represents five minutes
            // 288 five minute intervals per day
            height: calc(288 * $interval);
            border-right: 1px solid map.get(utility.$palette, "default-dark");

            .event {
                position: absolute;
                inset: auto 10% auto 5%;
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                padding: 0.5em;
                gap: 0.25em;
                border: 0 solid;
                border-radius: 4px;
                background-color: map.get(utility.$palette, "default-light");
                color: map.get(utility.$palette, "on-default");
                font-size: 0.8em;
            }
        }
    }
}

.agenda{
    position: absolute;
    inset: 0 0 0 map.get($feed, "width");

    &--day{
        @include agenda(1);
    }

    &--twoDay{
        @include agenda(2);
    }

    &--fiveDay{
        @include agenda(5);
    }

    &--week{
        @include agenda(7);
    }
}